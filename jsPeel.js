// a CSSMatrix shim (credit to https://github.com/arian/CSSMatrix)
// http://www.w3.org/TR/css3-3d-transforms/#cssmatrix-interface
// http://www.w3.org/TR/css3-2d-transforms/#cssmatrix-interface
var CSSMatrix=function(){var e=[].slice.call(arguments),t=this;if(e.length)for(var n=e.length;n--;){if(Math.abs(e[n])<CSSMatrix.SMALL_NUMBER)e[n]=0}t.setIdentity();if(e.length==16){t.m11=t.a=e[0];t.m12=t.b=e[1];t.m13=e[2];t.m14=e[3];t.m21=t.c=e[4];t.m22=t.d=e[5];t.m23=e[6];t.m24=e[7];t.m31=e[8];t.m32=e[9];t.m33=e[10];t.m34=e[11];t.m41=t.e=e[12];t.m42=t.f=e[13];t.m43=e[14];t.m44=e[15]}else if(e.length==6){this.affine=true;t.m11=t.a=e[0];t.m12=t.b=e[1];t.m14=t.e=e[4];t.m21=t.c=e[2];t.m22=t.d=e[3];t.m24=t.f=e[5]}else if(e.length===1&&typeof e[0]=="string"){t.setMatrixValue(e[0])}else if(e.length>0){throw new TypeError("Invalid Matrix Value")}};CSSMatrix.SMALL_NUMBER=1e-6;CSSMatrix.Rotate=function(e,t,n){e*=Math.PI/180;t*=Math.PI/180;n*=Math.PI/180;var r=Math.cos(e),i=-Math.sin(e);var s=Math.cos(t),o=-Math.sin(t);var u=Math.cos(n),a=-Math.sin(n);var f=new CSSMatrix;f.m11=f.a=s*u;f.m12=f.b=-s*a;f.m13=o;f.m21=f.c=i*o*u+r*a;f.m22=f.d=r*u-i*o*a;f.m23=-i*s;f.m31=i*a-r*o*u;f.m32=i*u+r*o*a;f.m33=r*s;return f};CSSMatrix.RotateAxisAngle=function(e,t,n,r){r*=Math.PI/360;var i=Math.sin(r),s=Math.cos(r),o=i*i;var u=Math.sqrt(e*e+t*t+n*n);if(u===0){e=0;t=0;n=1}else{e/=u;t/=u;n/=u}var a=e*e,f=t*t,l=n*n;var c=new CSSMatrix;c.m11=c.a=1-2*(f+l)*o;c.m12=c.b=2*(e*t*o+n*i*s);c.m13=2*(e*n*o-t*i*s);c.m21=c.c=2*(t*e*o-n*i*s);c.m22=c.d=1-2*(l+a)*o;c.m23=2*(t*n*o+e*i*s);c.m31=2*(n*e*o+t*i*s);c.m32=2*(n*t*o-e*i*s);c.m33=1-2*(a+f)*o;c.m14=c.m24=c.m34=0;c.m41=c.e=c.m42=c.f=c.m43=0;c.m44=1;return c};CSSMatrix.ScaleX=function(e){var t=new CSSMatrix;t.m11=t.a=e;return t};CSSMatrix.ScaleY=function(e){var t=new CSSMatrix;t.m22=t.d=e;return t};CSSMatrix.ScaleZ=function(e){var t=new CSSMatrix;t.m33=e;return t};CSSMatrix.Scale=function(e,t,n){var r=new CSSMatrix;r.m11=r.a=e;r.m22=r.d=t;r.m33=n;return r};CSSMatrix.SkewX=function(e){e*=Math.PI/180;var t=new CSSMatrix;t.m21=t.c=Math.tan(e);return t};CSSMatrix.SkewY=function(e){e*=Math.PI/180;var t=new CSSMatrix;t.m12=t.b=Math.tan(e);return t};CSSMatrix.Translate=function(e,t,n){var r=new CSSMatrix;r.m41=r.e=e;r.m42=r.f=t;r.m43=n;return r};CSSMatrix.multiply=function(e,t){var n=t.m11*e.m11+t.m12*e.m21+t.m13*e.m31+t.m14*e.m41,r=t.m11*e.m12+t.m12*e.m22+t.m13*e.m32+t.m14*e.m42,i=t.m11*e.m13+t.m12*e.m23+t.m13*e.m33+t.m14*e.m43,s=t.m11*e.m14+t.m12*e.m24+t.m13*e.m34+t.m14*e.m44,o=t.m21*e.m11+t.m22*e.m21+t.m23*e.m31+t.m24*e.m41,u=t.m21*e.m12+t.m22*e.m22+t.m23*e.m32+t.m24*e.m42,a=t.m21*e.m13+t.m22*e.m23+t.m23*e.m33+t.m24*e.m43,f=t.m21*e.m14+t.m22*e.m24+t.m23*e.m34+t.m24*e.m44,l=t.m31*e.m11+t.m32*e.m21+t.m33*e.m31+t.m34*e.m41,c=t.m31*e.m12+t.m32*e.m22+t.m33*e.m32+t.m34*e.m42,h=t.m31*e.m13+t.m32*e.m23+t.m33*e.m33+t.m34*e.m43,p=t.m31*e.m14+t.m32*e.m24+t.m33*e.m34+t.m34*e.m44,d=t.m41*e.m11+t.m42*e.m21+t.m43*e.m31+t.m44*e.m41,v=t.m41*e.m12+t.m42*e.m22+t.m43*e.m32+t.m44*e.m42,m=t.m41*e.m13+t.m42*e.m23+t.m43*e.m33+t.m44*e.m43,g=t.m41*e.m14+t.m42*e.m24+t.m43*e.m34+t.m44*e.m44;return new CSSMatrix(n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g)};CSSMatrix.prototype.setMatrixValue=function(e){e=String(e).trim();var t=this;t.setIdentity();if(e=="none")return t;var n=e.slice(0,e.indexOf("(")),r,i;if(n=="matrix3d"){r=e.slice(9,-1).split(",");for(i=r.length;i--;)r[i]=parseFloat(r[i]);t.m11=t.a=r[0];t.m12=t.b=r[1];t.m13=r[2];t.m14=r[3];t.m21=t.c=r[4];t.m22=t.d=r[5];t.m23=r[6];t.m24=r[7];t.m31=r[8];t.m32=r[9];t.m33=r[10];t.m34=r[11];t.m41=t.e=r[12];t.m42=t.f=r[13];t.m43=r[14];t.m44=r[15]}else if(n=="matrix"){t.affine=true;r=e.slice(7,-1).split(",");for(i=r.length;i--;)r[i]=parseFloat(r[i]);t.m11=t.a=r[0];t.m12=t.b=r[2];t.m41=t.e=r[4];t.m21=t.c=r[1];t.m22=t.d=r[3];t.m42=t.f=r[5]}else{throw new TypeError("Invalid Matrix Value")}return t};CSSMatrix.prototype.multiply=function(e){return CSSMatrix.multiply(this,e)};CSSMatrix.prototype.inverse=function(){throw new Error("the inverse() method is not implemented (yet).")};CSSMatrix.prototype.translate=function(e,t,n){if(n==null)n=0;return CSSMatrix.multiply(this,CSSMatrix.Translate(e,t,n))};CSSMatrix.prototype.scale=function(e,t,n){if(t==null)t=e;if(n==null)n=1;return CSSMatrix.multiply(this,CSSMatrix.Scale(e,t,n))};CSSMatrix.prototype.rotate=function(e,t,n){if(t==null)t=e;if(n==null)n=e;return CSSMatrix.multiply(this,CSSMatrix.Rotate(e,t,n))};CSSMatrix.prototype.rotateAxisAngle=function(e,t,n,r){if(t==null)t=e;if(n==null)n=e;return CSSMatrix.multiply(this,CSSMatrix.RotateAxisAngle(e,t,n,r))};CSSMatrix.prototype.skewX=function(e){return CSSMatrix.multiply(this,CSSMatrix.SkewX(e))};CSSMatrix.prototype.skewY=function(e){return CSSMatrix.multiply(this,CSSMatrix.SkewY(e))};CSSMatrix.prototype.toString=function(){var e=this;if(this.affine){return"matrix("+[e.a,e.b,e.c,e.d,e.e,e.f].join(", ")+")"}return"matrix3d("+[e.m11,e.m12,e.m13,e.m14,e.m21,e.m22,e.m23,e.m24,e.m31,e.m32,e.m33,e.m34,e.m41,e.m42,e.m43,e.m44].join(", ")+")"};CSSMatrix.prototype.setIdentity=function(){var e=this;e.m11=e.a=1;e.m12=e.b=0;e.m13=0;e.m14=0;e.m21=e.c=0;e.m22=e.d=1;e.m23=0;e.m24=0;e.m31=0;e.m32=0;e.m33=1;e.m34=0;e.m41=e.e=0;e.m42=e.f=0;e.m43=0;e.m44=1;return this};CSSMatrix.prototype.transform=function(e){var t=this;var n=t.m11*e.x+t.m12*e.y+t.m13*e.z+t.m14*e.w,r=t.m21*e.x+t.m22*e.y+t.m23*e.z+t.m24*e.w,i=t.m31*e.x+t.m32*e.y+t.m33*e.z+t.m34*e.w,s=t.m41*e.x+t.m42*e.y+t.m43*e.z+t.m44*e.w;e.x=n/s;e.y=r/s;e.z=i/s;return e};CSSMatrix.prototype.toFullString=function(){var e=this;return[[e.m11,e.m12,e.m13,e.m14].join(", "),[e.m21,e.m22,e.m23,e.m24].join(", "),[e.m31,e.m32,e.m33,e.m34].join(", "),[e.m41,e.m42,e.m43,e.m44].join(", ")].join("\n")}

// assuming jquery exists
(function($,w) {
	$.fn.peel = function() {
		$(this).each(function() {
			console.log($(this).html());
		});
	};
})(jQuery,window);